# hello-bevy è¨­è¨ˆã‚µãƒãƒª

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ãƒ«ãƒ¼ãƒ«
commitå‰ã«å¿…ãšä»¥ä¸‹ã‚’å®ˆã‚Œ
- `cargo check --workspace` (è­¦å‘Šã‚‚å…¨ã¦ä¿®æ­£ã™ã‚‹ã“ã¨)
- `cargo test --workspace` (å…¨crateã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ)
- README.mdã®æœ€æ–°åŒ–
**é‡è¦**: ã“ã®CLAUDE.mdãƒ•ã‚¡ã‚¤ãƒ«ã¯å¸¸ã«æœ€æ–°ã®çŠ¶æ…‹ã«ä¿ã¤ã“ã¨
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›´æ™‚ã¯å¿…ãšã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°
- è¨­è¨ˆå¤‰æ›´ã€æ–°æ©Ÿèƒ½è¿½åŠ ã€ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆå¤‰æ›´ã‚’å³åº§ã«åæ˜ 
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’æ­£ç¢ºã«æ–‡æ›¸åŒ–
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ä¸€èˆ¬çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚‚ã“ã“ã«è¨˜éŒ²

### ğŸ”§ ãƒ†ã‚¹ãƒˆãƒ»ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰
```bash
# å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®å‹ãƒã‚§ãƒƒã‚¯ï¼ˆæ¨å¥¨ï¼‰
cargo check --workspace

# å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
cargo test --workspace

# å€‹åˆ¥crateã®ãƒ†ã‚¹ãƒˆ
cargo test -p combat-engine
cargo test -p rule-parser
cargo test -p game-logic
cargo test -p bevy-frontend

# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
cargo test --workspace --doc

# ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰
cargo build --workspace --release
```


## ğŸ—£ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´
### é–‹ç™ºæ™‚ã®æ³¨æ„äº‹é …
- **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç¢ºèª**: å¤‰æ›´å¾Œã¯å¿…ãš`cargo check`ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**: ä¸€èˆ¬çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã™ã‚‹ã“ã¨
- **UIåˆ†é›¢**: å…·ä½“çš„ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šã¯main.rsã«ã€æ±ç”¨çš„ãªUIãƒ­ã‚¸ãƒƒã‚¯ã¯ui.rsã«åˆ†é›¢ã™ã‚‹ã“ã¨
- **JSONè¨­å®š**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ruleã¯JSONå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿å¯èƒ½ã«ãªã£ãŸï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ä»˜ãï¼‰
- **UIæ¤œè¨¼**: ãƒˆãƒ¼ã‚¯ãƒ³é…ç½®ã®æœ‰åŠ¹æ€§æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã¯å‰Šé™¤æ¸ˆã¿ - å®Ÿéš›ã®å¤‰æ›å‡¦ç†ã§ã®ã¿å¦¥å½“æ€§ãŒç¢ºèªã•ã‚Œã‚‹
- **å¤‰æ›ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: UIã®ç›´æ¥å¤‰æ›ã‚’å»ƒæ­¢ã—ã€rule-parserã‚’çµŒç”±ã™ã‚‹çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å¤‰æ›´ï¼ˆUI TokenType â†’ rule-parser RuleSet â†’ combat-engine RuleTokenï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆã‚¯ãƒ¬ãƒ¼ãƒˆåˆ†å‰²å¾Œï¼‰
```
â”œâ”€â”€ Cargo.toml          - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.rs         - Bevyã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆãƒ»ã‚²ãƒ¼ãƒ çµ±åˆãƒã‚¤ãƒŠãƒª
â”œâ”€â”€ crates/
â”‚   â”œâ”€â”€ combat-engine/  - ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹è¡Œå‹•è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ lib.rs          - ã‚¯ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ character.rs    - Characterå‹å®šç¾©ï¼ˆå¾ªç’°ä¾å­˜å›é¿ï¼‰
â”‚   â”‚       â”œâ”€â”€ core.rs         - åŸºæœ¬ãƒˆãƒ¬ã‚¤ãƒˆãƒ»å‹å®šç¾©
â”‚   â”‚       â”œâ”€â”€ actions.rs      - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
â”‚   â”‚       â”œâ”€â”€ bool_tokens.rs  - è«–ç†æ¼”ç®—ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
â”‚   â”‚       â”œâ”€â”€ number_tokens.rs- æ•°å€¤ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
â”‚   â”‚       â””â”€â”€ system.rs       - è¡Œå‹•è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
â”‚   â”œâ”€â”€ rule-parser/    - JSON ãƒ«ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ãƒ»å¤‰æ›ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ lib.rs              - ã‚¯ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ rule_loader.rs      - JSONå½¢å¼ãƒ«ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ãƒ»å¤‰æ›
â”‚   â”‚       â””â”€â”€ rule_input_model.rs - JSONå…¥åŠ›ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ game-logic/     - ãƒãƒˆãƒ«ç®¡ç†ãƒ»æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ lib.rs  - ã‚¯ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚       â””â”€â”€ battle.rs - ãƒãƒˆãƒ«ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ bevy-frontend/  - Bevy UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ 
â”‚       â”œâ”€â”€ Cargo.toml
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ lib.rs  - ã‚¯ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚           â””â”€â”€ ui.rs   - UIè¡¨ç¤ºãƒ»å…¥åŠ›å‡¦ç†ãƒ»ç”»é¢æç”»
â””â”€â”€ rules/
    â”œâ”€â”€ player_rules.json - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«è¨­å®š
    â””â”€â”€ enemy_rules.json  - æ•µã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«è¨­å®š
```

### ğŸ¯ ã‚¯ãƒ¬ãƒ¼ãƒˆåˆ†é›¢è¨­è¨ˆ
- **ã‚¢ãƒ—ãƒªå±¤**: `hello-bevy` (root) - Bevyã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆãƒ»ã‚²ãƒ¼ãƒ çµ±åˆãƒã‚¤ãƒŠãƒª
- **UIå±¤**: `bevy-frontend` ã‚¯ãƒ¬ãƒ¼ãƒˆ - Bevy UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ 
- **ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤**: `game-logic` ã‚¯ãƒ¬ãƒ¼ãƒˆ - ãƒãƒˆãƒ«ç®¡ç†ãƒ»æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯
- **è¨­å®šå±¤**: `rule-parser` ã‚¯ãƒ¬ãƒ¼ãƒˆ - JSON ãƒ«ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ãƒ»å¤‰æ›ã‚·ã‚¹ãƒ†ãƒ 
- **è¨ˆç®—å±¤**: `combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆ - ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹è¡Œå‹•è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ 
  - `character.rs` - Characterå‹å®šç¾©ï¼ˆå¾ªç’°ä¾å­˜å›é¿ï¼‰
  - `core.rs` - åŸºæœ¬ãƒˆãƒ¬ã‚¤ãƒˆãƒ»å‹å®šç¾©
  - `actions.rs` - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
  - `bool_tokens.rs` - è«–ç†æ¼”ç®—ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
  - `number_tokens.rs` - æ•°å€¤ãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
  - `system.rs` - è¡Œå‹•è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…

## ğŸ§© ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### 1. ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ
```rust
// combat-engine/character.rs
struct Character {
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
    hp/max_hp, mp/max_mp, attack
}

// game-logic/battle.rs  
struct Battle {
    // æˆ¦é—˜çŠ¶æ…‹ç®¡ç†
    player, enemy, current_turn, battle_over
}
```

### 2. ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (`combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆ)
```rust
trait Token {
    fn evaluate() -> TokenResult
}

enum TokenResult {
    Continue(bool),  // æ¡ä»¶åˆ¤å®šçµæœ
    Action(ActionType), // å®Ÿè¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    Break,           // è¡Œä¸­æ–­
}

// å¤–éƒ¨ã‹ã‚‰ãƒ«ãƒ¼ãƒ«è¨­å®šå¯èƒ½
ActionCalculationSystem::new(rules)
ActionCalculationSystem::with_seed(rules, seed)
```

### 3. è²¬ä»»åˆ†é›¢è¨­è¨ˆï¼ˆã‚¯ãƒ¬ãƒ¼ãƒˆåˆ¥ï¼‰
- **`hello-bevy` (root)**: Bevyã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ»ã‚²ãƒ¼ãƒ å›ºæœ‰è¨­å®š("å‹‡è€…","ã‚¹ãƒ©ã‚¤ãƒ ")
- **`bevy-frontend` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: æ±ç”¨çš„ãªUIè¡¨ç¤ºãƒ»å…¥åŠ›å‡¦ç†ãƒ»ç”»é¢æç”»
- **`game-logic` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: ãƒãƒˆãƒ«ç®¡ç†ãƒ»æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯
- **`rule-parser` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: JSONèª­ã¿è¾¼ã¿ãƒ»å¤‰æ›ã‚·ã‚¹ãƒ†ãƒ 
- **`combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: AIè¡Œå‹•æ±ºå®šãƒ»ãƒˆãƒ¼ã‚¯ãƒ³å‡¦ç†ãƒ»Characterå‹å®šç¾©

### 4. æ‹¡å¼µæ€§è¨­è¨ˆï¼ˆã‚¯ãƒ¬ãƒ¼ãƒˆåˆ¥ï¼‰
- **æ–°ãƒˆãƒ¼ã‚¯ãƒ³è¿½åŠ **: `combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆã®`Token`ãƒˆãƒ¬ã‚¤ãƒˆå®Ÿè£…ã®ã¿
- **æ–°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ **: `combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆã®`ActionType`enumæ‹¡å¼µ
- **UIå¤‰æ›´**: `bevy-frontend` ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã¿ä¿®æ­£ã§å¯¾å¿œ
- **ã‚²ãƒ¼ãƒ è¨­å®šå¤‰æ›´**: `hello-bevy` (root)ã®ã¿ä¿®æ­£ã§å¯¾å¿œ
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«**: `rule-parser` ã‚¯ãƒ¬ãƒ¼ãƒˆã§JSONå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ä»˜ãï¼‰
- **æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´**: `game-logic` ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã¿ä¿®æ­£ã§å¯¾å¿œ

### 5. JSONè¨­å®šã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`rule-parser` ã‚¯ãƒ¬ãƒ¼ãƒˆï¼‰
```rust
// rule-parser/rule_input_model.rs
RuleSet { rules: [RuleChain{ tokens: [TokenConfig] }] }
TokenConfig: Strike | Heal | Check{args} | GreaterThan{args} | etc.

// rule-parser/rule_loader.rs
load_rules_from_file(path) -> parse_rules_from_json(content) -> convert_to_token_rules(rule_set)
```
- **å…¥åŠ›ãƒ¢ãƒ‡ãƒ«**: `rule_input_model.rs` - JSONå…¥åŠ›å°‚ç”¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ å®šç¾©
- **ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿**: `load_rules_from_file(path)`
- **JSONè§£æ**: `parse_rules_from_json(content)`
- **å¤‰æ›å‡¦ç†**: `convert_to_token_rules(rule_set)` â†’ `combat-engine` ãƒˆãƒ¼ã‚¯ãƒ³ã«å¤‰æ›
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: JSONèª­ã¿è¾¼ã¿å¤±æ•—æ™‚ã¯ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ç”¨

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆï¼ˆã‚¯ãƒ¬ãƒ¼ãƒˆé–“ï¼‰
```
å…¥åŠ› â†’ bevy-frontend ã‚¯ãƒ¬ãƒ¼ãƒˆ â†’ game-logic ã‚¯ãƒ¬ãƒ¼ãƒˆ â†’ combat-engine ã‚¯ãƒ¬ãƒ¼ãƒˆ â†’ bevy-frontend ã‚¯ãƒ¬ãƒ¼ãƒˆ â†’ çµæœè¡¨ç¤º
      â†‘                          â†‘                                                                      â†“
   hello-bevy (root)           rule-parser ã‚¯ãƒ¬ãƒ¼ãƒˆ (JSONèª­ã¿è¾¼ã¿)                                  ç”»é¢æç”»
```

## ğŸ“¦ ã‚¯ãƒ¬ãƒ¼ãƒˆä¾å­˜é–¢ä¿‚ãƒ«ãƒ¼ãƒ«

### ä¾å­˜é–¢ä¿‚ã®éšå±¤æ§‹é€ ï¼ˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
```
hello-bevy (root ãƒã‚¤ãƒŠãƒª)
â”œâ”€â”€ bevy-frontend ã‚¯ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ game-logic ã‚¯ãƒ¬ãƒ¼ãƒˆ
â”‚       â”œâ”€â”€ rule-parser ã‚¯ãƒ¬ãƒ¼ãƒˆ
â”‚       â”‚   â””â”€â”€ combat-engine ã‚¯ãƒ¬ãƒ¼ãƒˆ
â”‚       â””â”€â”€ combat-engine ã‚¯ãƒ¬ãƒ¼ãƒˆ
â””â”€â”€ ç›´æ¥ä¾å­˜: combat-engine, rule-parser, game-logic, bevy-frontend
```

### ã‚¯ãƒ¬ãƒ¼ãƒˆé–“ä¾å­˜é–¢ä¿‚ã®åˆ¶ç´„ãƒ«ãƒ¼ãƒ«

1. **éšå±¤ä¾å­˜ã®ã¿è¨±å¯ï¼ˆå¾ªç’°ä¾å­˜å›é¿ï¼‰**
   - `hello-bevy` (root) â†’ `bevy-frontend`, `game-logic`, `rule-parser`, `combat-engine` ä¾å­˜å¯èƒ½
   - `bevy-frontend` â†’ `game-logic` ã®ã¿ä¾å­˜
   - `game-logic` â†’ `rule-parser`, `combat-engine` ä¾å­˜
   - `rule-parser` â†’ `combat-engine` ã®ã¿ä¾å­˜
   - `combat-engine` â†’ å¤–éƒ¨ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã¿ä¾å­˜ï¼ˆå®Œå…¨ç‹¬ç«‹ï¼‰
   - **é€†æ–¹å‘ä¾å­˜ã¯ç¦æ­¢** (ä¸‹ä½ã‚¯ãƒ¬ãƒ¼ãƒˆãŒä¸Šä½ã‚¯ãƒ¬ãƒ¼ãƒˆã«ä¾å­˜ã—ã¦ã¯ã„ã‘ãªã„)

2. **åŒä¸€å±¤å†…ã®ç›¸äº’ä¾å­˜ã¯ç¦æ­¢**
   - `bevy-frontend` â†” `rule-parser` ã®ç›´æ¥ä¾å­˜ã¯ç¦æ­¢ï¼ˆ`game-logic`çµŒç”±ã§åˆ©ç”¨ï¼‰

3. **Characterå‹ã®é…ç½®æˆ¦ç•¥**
   - `combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆã«`Character`å‹ã‚’é…ç½®ï¼ˆå¾ªç’°ä¾å­˜å›é¿ï¼‰
   - `game-logic` ãŒ `combat-engine::Character` ã‚’å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

4. **è¨±å¯ã•ã‚Œã‚‹ä¾å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³**
   ```rust
   // âœ… è¨±å¯
   hello-bevy â†’ bevy-frontend, game-logic, rule-parser, combat-engine
   bevy-frontend â†’ game-logic
   game-logic â†’ rule-parser, combat-engine
   rule-parser â†’ combat-engine
   
   // âŒ ç¦æ­¢
   combat-engine â†’ rule-parser (é€†æ–¹å‘)
   bevy-frontend â†’ rule-parser (åŒä¸€å±¤)
   combat-engine â†’ bevy-frontend (é€†æ–¹å‘)
   ```

5. **æ–°ã‚¯ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã®ãƒ«ãƒ¼ãƒ«**
   - ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«å®šç¾©ã—ã¦ã‹ã‚‰å®Ÿè£…é–‹å§‹
   - å¾ªç’°ä¾å­˜ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’ç¢ºèª
   - ã‚ˆã‚Šä¸‹ä½ã®å±¤ã«é…ç½®ã§ããªã„ã‹æ¤œè¨
   - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®Cargo.tomlã«è¿½åŠ 

## ğŸ§ª ãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼ˆã‚¯ãƒ¬ãƒ¼ãƒˆåˆ¥ï¼‰
### çµ±åˆãƒ†ã‚¹ãƒˆ (49ãƒ†ã‚¹ãƒˆ)
- **`combat-engine` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: 11ãƒ†ã‚¹ãƒˆ - å˜ä½“ãƒ†ã‚¹ãƒˆ + ãƒˆãƒ¼ã‚¯ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
  - ActionResolver, Token, å„ç¨®ãƒˆãƒ¼ã‚¯ãƒ³ã®å‹•ä½œãƒ†ã‚¹ãƒˆ
  - ActionCalculationSystemã®çµ±åˆãƒ†ã‚¹ãƒˆ
- **`rule-parser` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: 12ãƒ†ã‚¹ãƒˆ - ãƒ«ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ãƒ»å¤‰æ›ãƒ†ã‚¹ãƒˆ
  - JSONèª­ã¿è¾¼ã¿ãƒ»è§£æãƒ†ã‚¹ãƒˆ
  - TokenConfig â†’ ActionResolverå¤‰æ›ãƒ†ã‚¹ãƒˆ
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
- **`game-logic` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: 26ãƒ†ã‚¹ãƒˆ - ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
  - Battle, Character ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
  - æ§˜ã€…ãªãƒ«ãƒ¼ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆæ”»æ’ƒå°‚ç”¨/å›å¾©å°‚ç”¨/è¤‡é›‘ãªãƒã‚§ã‚¤ãƒ³ï¼‰
  - æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯çµ±åˆãƒ†ã‚¹ãƒˆ
- **`bevy-frontend` ã‚¯ãƒ¬ãƒ¼ãƒˆ**: 0ãƒ†ã‚¹ãƒˆ - UIé–¢é€£ï¼ˆBevyãƒ†ã‚¹ãƒˆã¯åˆ¥é€”ï¼‰
- **`hello-bevy` (root)**: 0ãƒ†ã‚¹ãƒˆ - çµ±åˆãƒã‚¤ãƒŠãƒª

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•
```bash
# å…¨ã‚¯ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
cargo test --workspace

# å€‹åˆ¥ã‚¯ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
cargo test -p combat-engine
cargo test -p rule-parser
cargo test -p game-logic
cargo test -p bevy-frontend

# ç‰¹å®šãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
cargo test -p game-logic -- integration_tests
cargo test -p combat-engine -- token
cargo test -p rule-parser -- loader
```
